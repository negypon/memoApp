# メモ帳

思考を邪魔しない、シンプルなメモアプリ

## 特徴

- **完全ローカル完結** - サーバー不要、ネット接続不要
- **思考の流れを止めない** - 自由にメモを書き、必要な時だけタスク化
- **複数のメモ帳** - 用途別に分けて管理
- **PWA対応** - ホーム画面に追加してアプリとして使用可能

## 使い方

### 基本操作

1. **メモ帳を作成**
   - 右上の「+」ボタンで新規作成
   - すぐに編集画面へ移動

2. **メモを書く**
   - 通常のメモ帳として自由に入力
   - 1行目がタイトル代わりになる

3. **ブロックに状態を付与**
   - 左側のガター（細い列）をタップ
   - 未指定 → ▶（通常） → ✓（完了） → 未指定
   - 何度でも切り替え可能

4. **完了処理**
   - 右上の「✓」ボタンをタップ
   - ✓マークのブロックだけが完了ログに移動
   - メモ本文からは削除される

### 管理対象外の行

- `--` で始まる行は管理対象外
- ガターに表示されない
- 完了ログに移動しない
- 区切りやメモとして使用

**例:**
```
-- ここから保留
買い物メモ
牛乳
```

### カテゴリ機能（任意）

ブロック先頭行に `カテゴリ名 タスク名` の形式で記述すると、完了ログに `カテゴリ名 - タスク名` として保存される。

**例:**
```
ea ブレイク型_XXXの改善
```
→ 完了ログ: `ea - ブレイク型_XXXの改善`

### メモ帳の管理

- **タップ** - メモ帳を開く
- **長押し（500ms）** - ドラッグで並び替え
- **左スワイプ** - 削除

### 完了ログ

- 全メモ帳共通で表示
- 新しい順に並ぶ
- タップで詳細表示
- 「復帰」ボタンで元のメモ帳に戻す（末尾に追記）

## インストール方法

### iPhone Safari

1. `index.html` をSafariで開く
2. 画面下部の共有ボタンをタップ
3. 「ホーム画面に追加」を選択
4. アイコンがホーム画面に追加される

### Android Chrome

1. `index.html` をChromeで開く
2. メニューから「ホーム画面に追加」を選択
3. アイコンがホーム画面に追加される

### デスクトップブラウザ

1. `index.html` をブラウザで開く
2. ブックマークに追加するか、PWAとしてインストール

## ファイル構成

```
06_MEMO/
├── index.html       # メイン画面
├── styles.css       # スタイル定義
├── app.js           # アプリケーションロジック
├── storage.js       # localStorage管理
├── block.js         # ブロック状態管理
├── manifest.json    # PWA設定
├── sw.js            # Service Worker
├── icon-192.png     # アイコン（192x192）
└── icon-512.png     # アイコン（512x512）
```

## データ保存

- localStorageに JSON 形式で保存
- ブラウザのデータを削除するとメモも消える
- 定期的にバックアップ推奨（開発者ツールからエクスポート可能）

## 技術仕様

- **完全ローカル** - サーバー通信なし
- **不可視トークン** - ゼロ幅スペースでブロック位置を追従
- **PWA** - オフライン動作、ホーム画面追加対応
- **レスポンシブ** - スマホ最適化

## ライセンス

MIT License

## 開発者向け

### データ構造

```json
{
  "version": 1,
  "notebooks": [
    {
      "id": "uuid",
      "content": "メモ本文",
      "created_at": "ISO8601",
      "updated_at": "ISO8601",
      "order": 0
    }
  ],
  "logs": [
    {
      "id": "uuid",
      "notebook_id": "元のメモ帳ID",
      "text": "完了内容",
      "completed_at": "ISO8601"
    }
  ]
}
```

### 不可視トークン

ブロック先頭行に `\u200B[block-id:state]\u200B` の形式で埋め込まれる。

- ユーザーには見えない
- テキスト編集に追従
- 同じ文字列が複数あっても一意に識別

## サポート

問題や要望があれば、GitHubのIssueまでお願いします。
